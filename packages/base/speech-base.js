/**
 * Speech-Base Bundle
 *
 * Version: 0.6.1
 * Build:   0002
 * TYPE:    alpha
 * Datum:   08.01.2022
 *
 * Autor:   LinguaLogic Team
 * Lizenz:  MIT
 *
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

!function(t,e){'object'==typeof exports&&'undefined'!=typeof module?e(exports,require('@speech/core')):'function'==typeof define&&define.amd?define(['exports','@speech/core'],e):e((t='undefined'!=typeof globalThis?globalThis:t||self).speechBase={},t.speechCore)}(this,(function(t,e){'use strict';const r=e.SPEECH_VERSION_NUMBER,n=e.SPEECH_VERSION_BUILD,i=e.SPEECH_VERSION_TYPE,s=r+'.'+n+' vom '+e.SPEECH_VERSION_DATE+' ('+i+')',o='Base',E='BaseComponent';class u extends e.Component{constructor(t,r=!0){super(t,r),this.mStartEvent=new e.EventFunctionList(e.SPEECH_START_EVENT,E),this.mStopEvent=new e.EventFunctionList(e.SPEECH_STOP_EVENT,E),this.mRunningFlag=!1,this.mStartEvent.setComponentName(t),this.mStopEvent.setComponentName(t),this.mStartEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mStopEvent.setErrorOutputFunc(this._getErrorOutputFunc())}getType(){return o}getClass(){return'BaseComponent'}getVersion(){return s}getApiVersion(){return"1.1"}getServerVersion(){return''}_setOption(t){return 0}_initAllPlugin(t){return 0}init(t){return this.isInit()?(this.isErrorOutput()&&console.log('BaseComponent.init: bereits initialisiert'),0):0!==super.init(t)?-1:0!==this._initAllPlugin(t)?(this._clearInit(),-1):(this._setOption(t),0)}_doneAllPlugin(){}_doneAllEvent(){}_doneAllAttribute(){}done(){return this.isRunning()&&this.stop(),this._doneAllEvent(),this.mStartEvent.clear(),this.mStopEvent.clear(),this._doneAllPlugin(),this._doneAllAttribute(),super.done()}_resetAllDefault(){}reset(t){return this.isInit()?(this.isRunning()&&this.stop(),this.setActiveOn(),this._resetAllDefault(),this._setOption(t),0):(this.error('reset','Komponente nicht initialisiert'),-1)}setErrorOutput(t){super.setErrorOutput(t),this.mStartEvent.setErrorOutput(t),this.mStopEvent.setErrorOutput(t)}_onStart(){return this.mStartEvent.dispatch()}_onStop(){return this.mStopEvent.dispatch()}get onStart(){return()=>this._onStart()}get onStop(){return()=>this._onStop()}addEventListener(t,r,n){let i=0;switch(r){case e.SPEECH_START_EVENT:i=this.mStartEvent.addListener(t,n);break;case e.SPEECH_STOP_EVENT:i=this.mStopEvent.addListener(t,n);break;default:i=super.addEventListener(t,r,n)}return i}removeEventListener(t,r){let n=0;switch(r){case e.SPEECH_START_EVENT:n=this.mStartEvent.removeListener(t);break;case e.SPEECH_STOP_EVENT:n=this.mStopEvent.removeListener(t);break;default:n=super.removeEventListener(t,r)}return n}addInitEvent(t,r){return this.addEventListener(t,e.SPEECH_INIT_EVENT,r)}addStartEvent(t,r){return this.addEventListener(t,e.SPEECH_START_EVENT,r)}addStopEvent(t,r){return this.addEventListener(t,e.SPEECH_STOP_EVENT,r)}addErrorEvent(t,r){return this.addEventListener(t,e.SPEECH_ERROR_EVENT,r)}removeInitEvent(t){return this.removeEventListener(t,e.SPEECH_INIT_EVENT)}removeStartEvent(t){return this.removeEventListener(t,e.SPEECH_START_EVENT)}removeStopEvent(t){return this.removeEventListener(t,e.SPEECH_STOP_EVENT)}removeErrorEvent(t){return this.removeEventListener(t,e.SPEECH_ERROR_EVENT)}removeAllEvent(t){return t?(this.removeInitEvent(t),this.removeStartEvent(t),this.removeStopEvent(t),this.removeErrorEvent(t),0):(this.error('removeAllEvent','kein Pluginname uebergeben'),-1)}getStartFunc(){return()=>this.start()}getStopFunc(){return()=>this.stop()}isRunning(){return!!this.isActive()&&this.mRunningFlag}start(t){return 0}stop(){return 0}test(t,e){return{result:-1,errorText:'kein Test implementiert'}}}class m extends e.ErrorBase{constructor(t,r){if(super(t),this.mPlugin=null,this.mInitEvent=new e.EventFunctionList(e.SPEECH_INIT_EVENT),this.mErrorEvent=new e.EventFunctionList(e.SPEECH_ERROR_EVENT),this.mStartEvent=new e.EventFunctionList(e.SPEECH_START_EVENT),this.mStopEvent=new e.EventFunctionList(e.SPEECH_STOP_EVENT),this.mActiveFlag=!0,this.mRunningFlag=!1,0!==this._init(r))throw new Error('Komponente nicht initialisiert');this.mInitEvent.setComponentName(t),this.mErrorEvent.setComponentName(t),this.mStartEvent.setComponentName(t),this.mStopEvent.setComponentName(t),this.mInitEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mErrorEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mStartEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mStopEvent.setErrorOutputFunc(this._getErrorOutputFunc())}_getBuilderName(){return''}_init(t){return t&&t.errorOutputFlag,0}reset(t){return 0}getType(){return'Base'}getName(){return this._getErrorClassName()}getVersion(){return e.SPEECH_API_VERSION}getApiVersion(){return e.SPEECH_API_VERSION}getServerVersion(){return''}isActive(){return!(!this.mActiveFlag||!this.mPlugin)}setActiveOn(){return this.mActiveFlag=!0,0}setActiveOff(){return this.mActiveFlag=!1,0}setErrorOutput(t){super.setErrorOutput(t),this.mInitEvent.setErrorOutput(t),this.mErrorEvent.setErrorOutput(t),this.mStartEvent.setErrorOutput(t),this.mStopEvent.setErrorOutput(t)}_getErrorOutputFunc(){return t=>this._onError(new Error(t))}_onInit(){return this.mInitEvent.dispatch(this.getName())}_onError(t){return this.mErrorEvent.dispatch(t)}_onStart(){return this.mStartEvent.dispatch()}_onStop(){return this.mStopEvent.dispatch()}addEventListener(t,r,n){let i=0;switch(r){case e.SPEECH_INIT_EVENT:i=this.mInitEvent.addListener(t,n);break;case e.SPEECH_ERROR_EVENT:i=this.mErrorEvent.addListener(t,n);break;case e.SPEECH_START_EVENT:i=this.mStartEvent.addListener(t,n);break;case e.SPEECH_STOP_EVENT:i=this.mStopEvent.addListener(t,n)}return i}removeEventListener(t,r){let n=0;switch(r){case e.SPEECH_INIT_EVENT:n=this.mInitEvent.removeListener(t);break;case e.SPEECH_ERROR_EVENT:n=this.mErrorEvent.removeListener(t);break;case e.SPEECH_START_EVENT:n=this.mStartEvent.removeListener(t);break;case e.SPEECH_STOP_EVENT:n=this.mStopEvent.removeListener(t)}return n}addInitEvent(t,r){return this.addEventListener(t,e.SPEECH_INIT_EVENT,r)}addStartEvent(t,r){return this.addEventListener(t,e.SPEECH_START_EVENT,r)}addStopEvent(t,r){return this.addEventListener(t,e.SPEECH_STOP_EVENT,r)}addErrorEvent(t,r){return this.addEventListener(t,e.SPEECH_ERROR_EVENT,r)}removeInitEvent(t){return this.removeEventListener(t,e.SPEECH_INIT_EVENT)}removeStartEvent(t){return this.removeEventListener(t,e.SPEECH_START_EVENT)}removeStopEvent(t){return this.removeEventListener(t,e.SPEECH_STOP_EVENT)}removeErrorEvent(t){return this.removeEventListener(t,e.SPEECH_ERROR_EVENT)}removeAllEvent(t){return t?(this.removeInitEvent(t),this.removeStartEvent(t),this.removeStopEvent(t),this.removeErrorEvent(t),0):(this.error('removeAllEvent','kein Pluginname uebergeben'),-1)}isRunning(){return!!this.isActive()&&this.mRunningFlag}start(){return 0}stop(){return 0}test(t,e){return{}}}t.BASE_API_VERSION="1.1",t.BASE_COMPONENT_NAME=E,t.BASE_TYPE_NAME=o,t.BASE_VERSION_STRING=s,t.Base=class{constructor(t){if(this.mComponent=null,0!==this._init(t))throw new Error('Komponente nicht initialisiert')}_getBuilderName(){return''}_getComponentName(t){return t&&'string'===t.componentName?t.componentName:''}_getComponentClass(t){return t&&'string'===t.componentClass?t.componentClass:''}_getBuilderConfig(t){return{componentName:this._getComponentName(t),componentClass:this._getComponentClass(t)}}_init(t){let r=!1;t&&'boolean'==typeof t.errorOutputFlag&&(r=t.errorOutputFlag);let n=this._getBuilderName();t&&'string'==typeof t.builderName&&(n=t.builderName);try{const i=e.BuilderManager.get(n);if(!i)return r&&console.log('Base._init: Kein Builder vorhanden'),-1;if(this.mComponent=i.build(this._getBuilderConfig(t)),!this.mComponent)return r&&console.log('Base._init: keine Komponente erzeugt'),-1;if(!this.mComponent.isInit()){if(0!==this.mComponent.init(t))return r&&console.log('Base._init: Komponente nicht initialisiert'),-1;this.mComponent.isErrorOutput()&&(console.log(this.getType()+'Version: ',this.getVersion()),console.log(this.getType()+'-API Version: ',this.getVersion()))}return 0}catch(t){return r&&console.log('Base._init: Exception ',t.message),-1}}reset(t){return this.mComponent.reset(t)}getType(){return this.mComponent.getType()}getName(){return this.mComponent.getName()}getVersion(){return this.mComponent.getVersion()}getApiVersion(){return this.mComponent.getApiVersion()}getServerVersion(){return''}isActive(){return this.mComponent.isActive()}setActiveOn(){return this.mComponent.setActiveOn()}setActiveOff(){return this.mComponent.setActiveOff()}isErrorOutput(){return this.mComponent.isErrorOutput()}setErrorOutputOn(){this.mComponent.setErrorOutputOn()}setErrorOutputOff(){this.mComponent.setErrorOutputOff()}addInitEvent(t,e){return this.mComponent.addInitEvent(t,e)}addStartEvent(t,e){return this.mComponent.addStartEvent(t,e)}addStopEvent(t,e){return this.mComponent.addStopEvent(t,e)}addErrorEvent(t,e){return this.mComponent.addErrorEvent(t,e)}removeInitEvent(t){return this.mComponent.removeInitEvent(t)}removeStartEvent(t){return this.mComponent.removeStartEvent(t)}removeStopEvent(t){return this.mComponent.removeStopEvent(t)}removeErrorEvent(t){return this.mComponent.removeErrorEvent(t)}removeAllEvent(t){return this.mComponent.removeAllEvent(t)}isRunning(){return this.mComponent.isRunning()}start(t){return this.mComponent.start(t)}stop(){return this.mComponent.stop()}test(t,e){return this.mComponent.test(t,e)}},t.BaseComponent=u,t.BaseMobile=m,Object.defineProperty(t,'__esModule',{value:!0})}));
