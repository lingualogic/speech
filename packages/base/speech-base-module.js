/**
 * Speech-Base Bundle
 *
 * Version: 0.6.1
 * Build:   0002
 * TYPE:    alpha
 * Datum:   08.01.2022
 *
 * Autor:   LinguaLogic Team
 * Lizenz:  MIT
 *
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

import{SPEECH_VERSION_NUMBER as t,SPEECH_VERSION_BUILD as e,SPEECH_VERSION_TYPE as r,SPEECH_VERSION_DATE as n,Component as i,EventFunctionList as s,SPEECH_START_EVENT as o,SPEECH_STOP_EVENT as u,SPEECH_INIT_EVENT as m,SPEECH_ERROR_EVENT as v,ErrorBase as h,SPEECH_API_VERSION as E,BuilderManager as a}from'@speech/core';const p=t+'.'+e+' vom '+n+' ('+r+')',l='1.1',d='Base',g='BaseComponent';class c extends i{constructor(t,e=!0){super(t,e),this.mStartEvent=new s(o,"BaseComponent"),this.mStopEvent=new s(u,"BaseComponent"),this.mRunningFlag=!1,this.mStartEvent.setComponentName(t),this.mStopEvent.setComponentName(t),this.mStartEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mStopEvent.setErrorOutputFunc(this._getErrorOutputFunc())}getType(){return"Base"}getClass(){return'BaseComponent'}getVersion(){return p}getApiVersion(){return"1.1"}getServerVersion(){return''}_setOption(t){return 0}_initAllPlugin(t){return 0}init(t){return this.isInit()?(this.isErrorOutput()&&console.log('BaseComponent.init: bereits initialisiert'),0):0!==super.init(t)?-1:0!==this._initAllPlugin(t)?(this._clearInit(),-1):(this._setOption(t),0)}_doneAllPlugin(){}_doneAllEvent(){}_doneAllAttribute(){}done(){return this.isRunning()&&this.stop(),this._doneAllEvent(),this.mStartEvent.clear(),this.mStopEvent.clear(),this._doneAllPlugin(),this._doneAllAttribute(),super.done()}_resetAllDefault(){}reset(t){return this.isInit()?(this.isRunning()&&this.stop(),this.setActiveOn(),this._resetAllDefault(),this._setOption(t),0):(this.error('reset','Komponente nicht initialisiert'),-1)}setErrorOutput(t){super.setErrorOutput(t),this.mStartEvent.setErrorOutput(t),this.mStopEvent.setErrorOutput(t)}_onStart(){return this.mStartEvent.dispatch()}_onStop(){return this.mStopEvent.dispatch()}get onStart(){return()=>this._onStart()}get onStop(){return()=>this._onStop()}addEventListener(t,e,r){let n=0;switch(e){case o:n=this.mStartEvent.addListener(t,r);break;case u:n=this.mStopEvent.addListener(t,r);break;default:n=super.addEventListener(t,e,r)}return n}removeEventListener(t,e){let r=0;switch(e){case o:r=this.mStartEvent.removeListener(t);break;case u:r=this.mStopEvent.removeListener(t);break;default:r=super.removeEventListener(t,e)}return r}addInitEvent(t,e){return this.addEventListener(t,m,e)}addStartEvent(t,e){return this.addEventListener(t,o,e)}addStopEvent(t,e){return this.addEventListener(t,u,e)}addErrorEvent(t,e){return this.addEventListener(t,v,e)}removeInitEvent(t){return this.removeEventListener(t,m)}removeStartEvent(t){return this.removeEventListener(t,o)}removeStopEvent(t){return this.removeEventListener(t,u)}removeErrorEvent(t){return this.removeEventListener(t,v)}removeAllEvent(t){return t?(this.removeInitEvent(t),this.removeStartEvent(t),this.removeStopEvent(t),this.removeErrorEvent(t),0):(this.error('removeAllEvent','kein Pluginname uebergeben'),-1)}getStartFunc(){return()=>this.start()}getStopFunc(){return()=>this.stop()}isRunning(){return!!this.isActive()&&this.mRunningFlag}start(t){return 0}stop(){return 0}test(t,e){return{result:-1,errorText:'kein Test implementiert'}}}class S extends h{constructor(t,e){if(super(t),this.mPlugin=null,this.mInitEvent=new s(m),this.mErrorEvent=new s(v),this.mStartEvent=new s(o),this.mStopEvent=new s(u),this.mActiveFlag=!0,this.mRunningFlag=!1,0!==this._init(e))throw new Error('Komponente nicht initialisiert');this.mInitEvent.setComponentName(t),this.mErrorEvent.setComponentName(t),this.mStartEvent.setComponentName(t),this.mStopEvent.setComponentName(t),this.mInitEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mErrorEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mStartEvent.setErrorOutputFunc(this._getErrorOutputFunc()),this.mStopEvent.setErrorOutputFunc(this._getErrorOutputFunc())}_getBuilderName(){return''}_init(t){return t&&t.errorOutputFlag,0}reset(t){return 0}getType(){return'Base'}getName(){return this._getErrorClassName()}getVersion(){return E}getApiVersion(){return E}getServerVersion(){return''}isActive(){return!(!this.mActiveFlag||!this.mPlugin)}setActiveOn(){return this.mActiveFlag=!0,0}setActiveOff(){return this.mActiveFlag=!1,0}setErrorOutput(t){super.setErrorOutput(t),this.mInitEvent.setErrorOutput(t),this.mErrorEvent.setErrorOutput(t),this.mStartEvent.setErrorOutput(t),this.mStopEvent.setErrorOutput(t)}_getErrorOutputFunc(){return t=>this._onError(new Error(t))}_onInit(){return this.mInitEvent.dispatch(this.getName())}_onError(t){return this.mErrorEvent.dispatch(t)}_onStart(){return this.mStartEvent.dispatch()}_onStop(){return this.mStopEvent.dispatch()}addEventListener(t,e,r){let n=0;switch(e){case m:n=this.mInitEvent.addListener(t,r);break;case v:n=this.mErrorEvent.addListener(t,r);break;case o:n=this.mStartEvent.addListener(t,r);break;case u:n=this.mStopEvent.addListener(t,r)}return n}removeEventListener(t,e){let r=0;switch(e){case m:r=this.mInitEvent.removeListener(t);break;case v:r=this.mErrorEvent.removeListener(t);break;case o:r=this.mStartEvent.removeListener(t);break;case u:r=this.mStopEvent.removeListener(t)}return r}addInitEvent(t,e){return this.addEventListener(t,m,e)}addStartEvent(t,e){return this.addEventListener(t,o,e)}addStopEvent(t,e){return this.addEventListener(t,u,e)}addErrorEvent(t,e){return this.addEventListener(t,v,e)}removeInitEvent(t){return this.removeEventListener(t,m)}removeStartEvent(t){return this.removeEventListener(t,o)}removeStopEvent(t){return this.removeEventListener(t,u)}removeErrorEvent(t){return this.removeEventListener(t,v)}removeAllEvent(t){return t?(this.removeInitEvent(t),this.removeStartEvent(t),this.removeStopEvent(t),this.removeErrorEvent(t),0):(this.error('removeAllEvent','kein Pluginname uebergeben'),-1)}isRunning(){return!!this.isActive()&&this.mRunningFlag}start(){return 0}stop(){return 0}test(t,e){return{}}}class C{constructor(t){if(this.mComponent=null,0!==this._init(t))throw new Error('Komponente nicht initialisiert')}_getBuilderName(){return''}_getComponentName(t){return t&&'string'===t.componentName?t.componentName:''}_getComponentClass(t){return t&&'string'===t.componentClass?t.componentClass:''}_getBuilderConfig(t){return{componentName:this._getComponentName(t),componentClass:this._getComponentClass(t)}}_init(t){let e=!1;t&&'boolean'==typeof t.errorOutputFlag&&(e=t.errorOutputFlag);let r=this._getBuilderName();t&&'string'==typeof t.builderName&&(r=t.builderName);try{const n=a.get(r);if(!n)return e&&console.log('Base._init: Kein Builder vorhanden'),-1;if(this.mComponent=n.build(this._getBuilderConfig(t)),!this.mComponent)return e&&console.log('Base._init: keine Komponente erzeugt'),-1;if(!this.mComponent.isInit()){if(0!==this.mComponent.init(t))return e&&console.log('Base._init: Komponente nicht initialisiert'),-1;this.mComponent.isErrorOutput()&&(console.log(this.getType()+'Version: ',this.getVersion()),console.log(this.getType()+'-API Version: ',this.getVersion()))}return 0}catch(t){return e&&console.log('Base._init: Exception ',t.message),-1}}reset(t){return this.mComponent.reset(t)}getType(){return this.mComponent.getType()}getName(){return this.mComponent.getName()}getVersion(){return this.mComponent.getVersion()}getApiVersion(){return this.mComponent.getApiVersion()}getServerVersion(){return''}isActive(){return this.mComponent.isActive()}setActiveOn(){return this.mComponent.setActiveOn()}setActiveOff(){return this.mComponent.setActiveOff()}isErrorOutput(){return this.mComponent.isErrorOutput()}setErrorOutputOn(){this.mComponent.setErrorOutputOn()}setErrorOutputOff(){this.mComponent.setErrorOutputOff()}addInitEvent(t,e){return this.mComponent.addInitEvent(t,e)}addStartEvent(t,e){return this.mComponent.addStartEvent(t,e)}addStopEvent(t,e){return this.mComponent.addStopEvent(t,e)}addErrorEvent(t,e){return this.mComponent.addErrorEvent(t,e)}removeInitEvent(t){return this.mComponent.removeInitEvent(t)}removeStartEvent(t){return this.mComponent.removeStartEvent(t)}removeStopEvent(t){return this.mComponent.removeStopEvent(t)}removeErrorEvent(t){return this.mComponent.removeErrorEvent(t)}removeAllEvent(t){return this.mComponent.removeAllEvent(t)}isRunning(){return this.mComponent.isRunning()}start(t){return this.mComponent.start(t)}stop(){return this.mComponent.stop()}test(t,e){return this.mComponent.test(t,e)}}export{l as BASE_API_VERSION,g as BASE_COMPONENT_NAME,d as BASE_TYPE_NAME,p as BASE_VERSION_STRING,C as Base,c as BaseComponent,S as BaseMobile};
